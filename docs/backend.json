
{
  "entities": {
    "Gift": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Gift",
      "type": "object",
      "description": "Represents a gift item that guests can view and contribute to, managed through the admin panel.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Gift entity."
        },
        "name": {
          "type": "string",
          "description": "The name of the gift item."
        },
        "description": {
          "type": "string",
          "description": "A detailed description of the gift item."
        },
        "price": {
          "type": "number",
          "description": "The price of the gift item in Brazilian Reais (R$). Decimal type."
        },
        "imageUrl": {
          "type": "string",
          "description": "URL of the image associated with the gift item, stored in object storage.",
          "format": "uri"
        },
        "externalLink": {
          "type": "string",
          "description": "External URL where the gift can be purchased or contributed to.",
          "format": "uri"
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp when the gift item was created.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "name",
        "price",
        "imageUrl",
        "externalLink",
        "createdAt"
      ]
    },
    "Rsvp": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Rsvp",
      "type": "object",
      "description": "Captures guest attendance confirmations and related details for the wedding event.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the RSVP confirmation."
        },
        "fullName": {
          "type": "string",
          "description": "The full name of the guest confirming presence."
        },
        "isAttending": {
          "type": "boolean",
          "description": "Indicates whether the guest will be attending the event."
        },
        "numberOfGuests": {
          "type": "number",
          "description": "The number of additional guests accompanying the primary guest. Excludes the primary guest."
        },
        "guestNames": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "List of names of the accompaniments."
        },
        "phoneNumber": {
          "type": "string",
          "description": "Contact phone number of the guest."
        },
        "message": {
          "type": "string",
          "description": "An optional message from the guest."
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp when the RSVP confirmation was submitted.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "fullName",
        "isAttending",
        "numberOfGuests",
        "phoneNumber",
        "createdAt"
      ]
    },
    "Invitee": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Invitee",
      "type": "object",
      "description": "Represents a guest who is officially invited to the wedding, used for the master guest list.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the invitee."
        },
        "fullName": {
          "type": "string",
          "description": "The full name of the invited guest."
        },
        "phoneNumber": {
          "type": "string",
          "description": "Contact phone number."
        },
        "category": {
          "type": "string",
          "description": "Category of the guest (e.g., Family, Friends, Work)."
        },
        "guestLimit": {
          "type": "number",
          "description": "Total number of people allowed for this invitation (including the main guest)."
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp when added to the list.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "fullName"
      ]
    },
    "EventSetting": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "EventSetting",
      "type": "object",
      "description": "Stores global configuration and details for the wedding event, such as couple's names, date, venue, and essential links.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the EventSetting entity. Expected to be a singleton (e.g., 'main_settings')."
        },
        "groomName": {
          "type": "string",
          "description": "The full name of the groom."
        },
        "brideName": {
          "type": "string",
          "description": "The full name of the bride."
        },
        "eventDateTime": {
          "type": "string",
          "description": "The full date and time of the wedding event.",
          "format": "date-time"
        },
        "verseText": {
          "type": "string",
          "description": "The text of the wedding Bible verse."
        },
        "verseReference": {
          "type": "string",
          "description": "The reference for the wedding Bible verse (e.g., 'Salmos 126:1-2')."
        },
        "locationName": {
          "type": "string",
          "description": "The name of the wedding venue."
        },
        "locationAddress": {
          "type": "string",
          "description": "The physical address of the wedding venue."
        },
        "mapEmbedUrl": {
          "type": "string",
          "description": "The URL for embedding the Google Maps location of the venue.",
          "format": "uri"
        },
        "godparentsLink": {
          "type": "string",
          "description": "The URL for the exclusive area for godparents.",
          "format": "uri"
        },
        "backgroundMusicUrl": {
          "type": "string",
          "description": "The YouTube URL for the background music, embedded in the invitation.",
          "format": "uri"
        }
      },
      "required": [
        "id",
        "groomName",
        "brideName",
        "eventDateTime",
        "verseText",
        "verseReference",
        "locationName",
        "locationAddress",
        "mapEmbedUrl",
        "godparentsLink",
        "backgroundMusicUrl"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/gifts/{giftId}",
        "definition": {
          "entityName": "Gift",
          "schema": {
            "$ref": "#/backend/entities/Gift"
          },
          "description": "Stores individual gift items available on the wedding registry.",
          "params": [
            {
              "name": "giftId",
              "description": "The unique identifier for a specific gift item."
            }
          ]
        }
      },
      {
        "path": "/rsvps/{rsvpId}",
        "definition": {
          "entityName": "Rsvp",
          "schema": {
            "$ref": "#/backend/entities/Rsvp"
          },
          "description": "Stores guest RSVP confirmations.",
          "params": [
            {
              "name": "rsvpId",
              "description": "The unique identifier for a specific RSVP confirmation."
            }
          ]
        }
      },
      {
        "path": "/invitees/{inviteeId}",
        "definition": {
          "entityName": "Invitee",
          "schema": {
            "$ref": "#/backend/entities/Invitee"
          },
          "description": "Stores the master list of invited guests.",
          "params": [
            {
              "name": "inviteeId",
              "description": "The unique identifier for an invited guest."
            }
          ]
        }
      },
      {
        "path": "/event_settings/main_settings",
        "definition": {
          "entityName": "EventSetting",
          "schema": {
            "$ref": "#/backend/entities/EventSetting"
          },
          "description": "A singleton document storing global configuration and details for the wedding event.",
          "params": []
        }
      },
      {
        "path": "/roles_admin/{adminId}",
        "definition": {
          "entityName": "admin",
          "schema": {
            "$ref": "#/backend/entities/user"
          },
          "description": "A collection used for Database Access Control (DBAC) to identify users with administrative privileges.",
          "params": [
            {
              "name": "adminId",
              "description": "The unique Firebase Authentication UID of a user granted administrative privileges."
            }
          ]
        }
      }
    ]
  }
}
